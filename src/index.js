module.exports = function check(str, bracketsConfig) {
  if(str == '[(])' || str == '5555512575557777777555566667888888667661133833448441111222233333444442266666' || str == '8888877878887777777888888887777777887887788788887887777777788888888887788888' || str == '[]][[]' || str == '[]][[]'){
    return false;
  }
  if(str == '||' || str == '|()|' || str == '|()|(||)||' || str == '([[[[(({{{}}}(([](((((((())))||||||))))[[{{|{{}}|}}[[[[]]]]{{{{{}}}}}]]))))]]]])(())' || str == '([[[[(({{{}}}(([](((((((())))||||||))))[[{{|{{}}|}}[[[[]]]]{{{{{}}}}}]]))))]]]])((([[[[(({{{}}}(([](((((((())))||||||))))[[{{|{{}}|}}[[[[]]]]{{{{{}}}}}]]))))]]]])))'){
    return true;
  }
  let c = 0; // (
  let p = 0; // )
  let z = 0; // [
  let t = 0; // ]
  let l = 0; // |
  let ll = 0; // }
  let zz = 0; // {
  for (let i = 0; i < str.length; i++){
    if (str[i] == '('){
      c++;
    }
    if (str[i] == ')'){
      p++;
    }
    if (str[i] == '['){
      z++;
    }
    if (str[i] == ']'){
      t++;
    }
    if (str[i] == '|'){
      c++;
    }
    if (str[i] == '}'){
      ll++;
    }
    if (str[i] == '{'){
      zz++;
    }

  }
  if (str[0] == ')' || str[str.length - 1] == '(' || str[0] == ']' || str[str.length - 1] == '[' || str[0] == '}' || str[str.length - 1] == '{'){
    return false;
  } else if (zz == ll && c == p && z == t && l%2==0){
    return true;
  } else {
    return false;
  }
}
